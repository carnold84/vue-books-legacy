webpackJsonp([1],{"+UOv":function(t,e){},"/41p":function(t,e){},"0EqR":function(t,e){},"69Qo":function(t,e){},"7Ok9":function(t,e){},DFlo:function(t,e){},"DX/U":function(t,e){},Fbng:function(t,e){},HPDW:function(t,e){},Iqae:function(t,e,s){"use strict";var i={name:"svgIcon",props:{basePath:{type:String,default:"/static"},name:{type:String,required:!0},size:{default:16}},computed:{svg:function(){return'<svg style="width: '+this.size+"px; height: "+this.size+'px"><use xlink:href="'+this.basePath+"/icons.svg#"+this.name+'"></use></svg>'}}},o={render:function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"icon",domProps:{innerHTML:this._s(this.svg)}})},staticRenderFns:[]},n=s("VU/8")(i,o,!1,function(t){s("UaEI")},"data-v-24ddb252",null);e.a=n.exports},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});for(var i=s("7+uW"),o=s("8X8O"),n=s("mvHQ"),a=s.n(n),r=s("DtRx"),u=s.n(r),l={books:{allIds:[],byId:{}},authors:{allIds:["author-1","author-2","author-3","author-4"],byId:{"author-1":{id:"author-1",firstName:"Number 1",lastName:"Author"},"author-2":{id:"author-2",firstName:"Number 2",lastName:"Author"},"author-3":{id:"author-3",firstName:"Number 3",lastName:"Author"},"author-4":{id:"author-4",firstName:"Number 4",lastName:"Author"}}},authorBook:[],series:{allIds:["series-3","series-1","series-4","series-2"],byId:{"series-1":{id:"series-1",title:"Series Number 1"},"series-2":{id:"series-2",title:"Series Number 2"},"series-3":{id:"series-3",title:"Series Number 3"},"series-4":{id:"series-4",title:"Series Number 4"}}}},d=function(t){var e={id:"book-"+(t+1),title:"Book Number "+(t+1),seriesId:l.series.allIds[Math.floor(Math.random()*(l.series.allIds.length-1))],bookNumber:Math.round(5*Math.random()).toString()};l.books.allIds.push(e.id),l.books.byId[e.id]=e;for(var s=Math.round(4*Math.random()),i=[],o=0;o<s;o++)i.push(l.authors.allIds[o]);i.forEach(function(t,s){l.authorBook.push({id:"author-"+s+"-"+e.id,bookId:e.id,authorId:t})})},h=0;h<40;h++)d(h);var c=void 0,m=void 0,f={init:function(t,e){c=t,m=null===(m=localStorage.getItem(c))?{books:{allIds:[],byId:{}},authors:{allIds:[],byId:{}},authorBook:[],series:{allIds:[],byId:{}},seriesBook:[]}:JSON.parse(m),v(m);e&&e({data:m,status:1})},getAllData:function(t){t&&t({data:m,status:1})},addBook:function(t,e){var s={id:t.id?t.id:u()(),title:t.title,seriesId:t.seriesId,bookNumber:t.bookNumber},i=m.books.allIds.indexOf(s.id);i>-1?m.books.allIds[i]=s.id:m.books.allIds.push(s.id),m.books.byId[s.id]=s,this.linkAuthors(s.id,t.authors),v(m);e&&e({data:m,status:1})},removeBook:function(t,e){m.books.allIds.splice(m.books.allIds.indexOf(t),1),delete m.books.byId[t],m.authorBook=m.authorBook.filter(function(e){return e.bookId!==t}),v(m);e&&e({data:m,status:1})},unlinkAuthors:function(t){m.authorBook=m.authorBook.filter(function(e){return e.bookId!==t})},linkAuthors:function(t,e){this.unlinkAuthors(t),e.forEach(function(e){m.authorBook.push({id:u()(),bookId:t,authorId:e})})},addAuthor:function(t,e){var s=p(t),i=m.authors.allIds.indexOf(s.id);i>-1?m.authors.allIds[i]=s.id:m.authors.allIds.push(s.id),m.authors.byId[s.id]=s,v(m);e&&e({data:m,status:1})},removeAuthor:function(t,e){m.authors.allIds.splice(m.authors.allIds.indexOf(t),1),delete m.authors.byId[t],m.authorBook=m.authorBook.filter(function(e){return e.authorId!==t}),v(m);e&&e({data:m,status:1})},addSeries:function(t,e){var s=b(t),i=m.series.allIds.indexOf(s.id);i>-1?m.series.allIds[i]=s.id:m.series.allIds.push(s.id),m.series.byId[s.id]=s,v(m);e&&e({data:m,status:1})},removeSeries:function(t,e){m.series.allIds.splice(m.series.allIds.indexOf(t),1),delete m.series.byId[t],v(m);e&&e({data:m,status:1})}},v=function(t){localStorage.setItem(c,a()(t))},p=function(t){var e={id:t.id?t.id:u()()};return t.firstName&&(e.firstName=t.firstName),t.lastName&&(e.lastName=t.lastName),e},b=function(t){var e={id:t.id?t.id:u()()};return t.title&&(e.title=t.title),e},k=f,_={debug:!0,state:{config:void 0,data:{books:{allIds:[],byId:{}},authors:{allIds:[],byId:{}},authorBook:[],series:{allIds:[],byId:{}},seriesBook:[]}},init:function(t){var e=this;this.debug&&console.info("init triggered"),this.state.config=window.app.config;var s=window[this.state.config.app.apiName];(k=void 0!==s?new s:k).init(this.state.config.dbName,function(s){e.state.data=s.data,t&&t()})},getAllData:function(){var t=this;k.getAllData(function(e){t.state.data=e.data})},addBook:function(t){var e=this;this.debug&&console.info("addBook triggered with",t),k.addBook(t,function(t){e.state.data=t.data})},removeBook:function(t){var e=this;this.debug&&console.info("removeBook triggered with",t),k.removeBook(t,function(t){e.state.data=t.data})},addAuthor:function(t){var e=this;this.debug&&console.info("addAuthor triggered with",t),k.addAuthor(t,function(t){e.state.data=t.data})},removeAuthor:function(t){var e=this;this.debug&&console.info("removeAuthor triggered with",t),k.removeAuthor(t,function(t){e.state.data=t.data})},addSeries:function(t){var e=this;this.debug&&console.info("addSeries triggered with",t),k.addSeries(t,function(t){e.state.data=t.data})},removeSeries:function(t){var e=this;this.debug&&console.info("removeSeries triggered with",t),k.removeSeries(t,function(t){e.state.data=t.data})}},g=(s("yd7s"),{render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loading"},[e("svgicon",{attrs:{name:"logo",width:"24",height:"24"}})],1)},staticRenderFns:[]}),y={components:{Loading:s("VU/8")({name:"Loading"},g,!1,function(t){s("qkaO")},"data-v-84dbef18",null).exports},data:function(){return _.state},created:function(){_.init(this.setTitle)},computed:{isConfigLoading:function(){return void 0===this.config}},methods:{setTitle:function(){document.querySelector("title").innerHTML=this.config.app.name}}},I={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[this.isConfigLoading?e("Loading"):e("router-view")],1)},staticRenderFns:[]},B=s("VU/8")(y,I,!1,function(t){s("69Qo")},null,null).exports,C=s("/ocq"),S=s("Dd8w"),A=s.n(S),N={computed:{appName:function(){return this.config.app.name}}},x={render:function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"header-bar"},[e("div",{staticClass:"content-left"},[e("span",{staticClass:"logo"},[e("svgicon",{attrs:{name:"logo",width:"24",height:"24"}})],1),this._v(" "),this._t("content-left")],2),this._v(" "),e("div",{staticClass:"content-right"},[this._t("content-right")],2)])},staticRenderFns:[]},R=s("VU/8")({name:"HeaderBar"},x,!1,function(t){s("Fbng")},"data-v-df931066",null).exports,U={name:"Page",props:{id:{type:String}},components:{HeaderBar:R}},E={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page",attrs:{id:this.id}},[e("header-bar",[e("template",{slot:"content-left"},[this._t("header-left")],2),this._v(" "),e("nav",{attrs:{slot:"content-right"},slot:"content-right"},[e("router-link",{attrs:{to:"/"}},[this._v("Books")]),this._v(" "),e("router-link",{attrs:{to:"/authors"}},[this._v("Authors")]),this._v(" "),e("router-link",{attrs:{to:"/series"}},[this._v("Series")])],1)],2),this._v(" "),e("main",{staticClass:"main"},[e("div",{staticClass:"content"},[this._t("content")],2)])],1)},staticRenderFns:[]},$=s("VU/8")(U,E,!1,function(t){s("hR0G")},"data-v-636e3899",null).exports,L={name:"ActionBar",props:{hasBorder:Boolean,default:!0}},w={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{class:{"action-bar":!0,"has-border":this.hasBorder}},[this._t("default")],2)},staticRenderFns:[]},F=s("VU/8")(L,w,!1,function(t){s("HPDW")},"data-v-4b41861b",null).exports,P={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"content-message"},[this._t("default")],2)},staticRenderFns:[]},V=s("VU/8")({name:"ContentMessage"},P,!1,function(t){s("vPIs")},"data-v-676ce5a1",null).exports,D={name:"UiButton",props:{isButton:{type:Boolean,default:!0},isPrimary:{type:Boolean,default:!1},onClick:{type:Function,default:null},height:{type:Number,default:28}},computed:{style:function(){return{height:this.height+"px"}}},methods:{click:function(t){this.onClick&&this.onClick(t)}}},M={render:function(){var t=this.$createElement,e=this._self._c||t;return this.isButton?e("button",{class:{"ui-button":!0,"is-primary":this.isPrimary},style:this.style,on:{click:this.click}},[this._t("default")],2):e("div",{class:{"ui-button":!0,"is-primary":this.isPrimary},style:this.style,on:{click:this.click}},[this._t("default")],2)},staticRenderFns:[]},O=s("VU/8")(D,M,!1,function(t){s("tiyi")},"data-v-12a1f3f4",null).exports,H={name:"LinkButton",components:{UiButton:O},props:["to","isPrimary"]},q={render:function(){var t=this.$createElement,e=this._self._c||t;return e("router-link",{attrs:{to:this.to}},[e("ui-button",{attrs:{isButton:!1,isPrimary:this.isPrimary}},[this._t("default")],2)],1)},staticRenderFns:[]},T=s("VU/8")(H,q,!1,null,null,null).exports,z={name:"RoundButton",props:{isButton:{type:Boolean,default:!0},isPrimary:{type:Boolean,default:!1},onClick:{type:Function,default:null},height:{type:Number,default:28}},computed:{style:function(){return{height:this.height+"px"}}}},Q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isButton?s("button",{class:{"round-button":!0,"is-primary":t.isPrimary},style:t.style,on:{click:function(e){t.onClick&&t.onClick()}}},[t._t("default")],2):s("div",{class:{"round-button":!0,"is-primary":t.isPrimary},style:t.style,on:{click:function(e){t.onClick&&t.onClick()}}},[t._t("default")],2)},staticRenderFns:[]},j=s("VU/8")(z,Q,!1,function(t){s("0EqR")},"data-v-af1199f8",null).exports,X={name:"RoundLinkButton",components:{RoundButton:j},props:["to","isPrimary"]},G={render:function(){var t=this.$createElement,e=this._self._c||t;return e("router-link",{attrs:{to:this.to}},[e("round-button",{attrs:{isButton:!1,isPrimary:this.isPrimary}},[this._t("default")],2)],1)},staticRenderFns:[]},W=s("VU/8")(X,G,!1,null,null,null).exports,Y={name:"UiList",mounted:function(){document.querySelectorAll(".list-item").forEach(function(t,e){t.style.transitionDelay=30*e+"ms"});document.querySelector(".ui-list").classList.add("show")}},J={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"ui-list"},[this._t("default")],2)},staticRenderFns:[]},Z=s("VU/8")(Y,J,!1,function(t){s("DFlo")},"data-v-4ded1834",null).exports,K={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"list-item"},[e("div",{staticClass:"cell"},[this._t("cell1")],2),this._v(" "),e("div",{staticClass:"cell"},[this._t("cell2")],2),this._v(" "),e("div",{staticClass:"cell"},[this._t("cell3")],2),this._v(" "),e("div",{staticClass:"actions"},[this._t("actions")],2)])},staticRenderFns:[]},tt=s("VU/8")({name:"ListItem"},K,!1,function(t){s("DX/U"),s("jtPG")},"data-v-0c2d8991",null).exports,et=(s("yLki"),s("msQL"),{name:"BookItem",props:{book:{type:Object,default:{}},onRemove:{type:Function}},methods:{onRemoveClick:function(){this.onRemove(this.book.id)}},components:{ListItem:tt,RoundButton:j,RoundLinkButton:W},computed:{authors:function(){var t=this;return this.book.authors.map(function(e){return A()({},e,{key:t.book.id+"-"+e.id,label:e.lastName+", "+e.firstName,url:"/books/author/"+e.id})})},series:function(){var t=null;return this.book.series&&(t=A()({},this.book.series,{url:"/books/series/"+this.book.series.id})),t}}}),st={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("list-item",[s("template",{slot:"cell1"},[t._v(t._s(t.book.title))]),t._v(" "),s("template",{slot:"cell2"},t._l(t.authors,function(e){return t.authors?s("router-link",{key:e.key,attrs:{to:e.url,title:e.label}},[s("span",{staticClass:"title-text"},[t._v(t._s(e.label))])]):t._e()})),t._v(" "),s("template",{slot:"cell3"},[t.series?s("router-link",{attrs:{to:t.series.url}},[s("span",{staticClass:"title-text"},[t._v(t._s(t.series.title))])]):t._e(),t._v(" "),t.book.bookNumber?s("span",[t._v(t._s("- Book "+t.book.bookNumber))]):t._e()],1),t._v(" "),s("template",{slot:"actions"},[s("round-link-button",{attrs:{to:t.book.editUrl}},[s("svgicon",{attrs:{name:"edit",width:"18",height:"18"}})],1),t._v(" "),s("round-button",{attrs:{onClick:t.onRemoveClick}},[s("svgicon",{attrs:{name:"delete",width:"18",height:"18"}})],1)],1)],2)},staticRenderFns:[]},it=s("VU/8")(et,st,!1,null,null,null).exports,ot=(s("VO7+"),{name:"Books",data:function(){return _.state},components:{Page:$,HeaderBar:R,ActionBar:F,ContentMessage:V,LinkButton:T,RoundLinkButton:W,UiList:Z,BookItem:it},mixins:[N,{methods:{getAuthor:function(t){return this.data.authors.byId[t]},getAuthorName:function(t){var e=this.getAuthor(t),s=[];return e.firstName&&s.push(e.firstName),e.lastName&&s.push(e.lastName),s.join(" ")}}},{methods:{getSeries:function(t){return this.data.series.byId[t]},getSeriesTitle:function(t){return this.getSeries(t).title}}}],computed:{authorId:function(){return"AuthorBooks"===this.$route.name?this.$route.params.name:void 0},seriesId:function(){return"SeriesBooks"===this.$route.name?this.$route.params.title:void 0},title:function(){if(this.authorId){return"Books by "+this.getAuthorName(this.authorId)}if(this.seriesId){return"Books in "+this.getSeriesTitle(this.seriesId)}return"Books"},sortedBooks:function(){var t=this,e=[];return this.data.books.allIds.forEach(function(s){var i=t.data.books.byId[s],o=A()({},i,{authors:t.getBookAuthors(s),series:t.getBookSeries(i.seriesId),url:"/book/"+s,editUrl:"/edit-book/"+s});if(t.authorId){o.authors.find(function(e){return e.id===t.authorId})&&e.push(o)}else t.seriesId?o.series&&o.series.id===t.seriesId&&e.push(o):e.push(o)}),e}},methods:{onRemove:function(t){_.removeBook(t)},getBookAuthors:function(t){var e=this,s=[];return this.data.authorBook.forEach(function(i){i.bookId===t&&s.push(e.data.authors.byId[i.authorId])}),s},getBookSeries:function(t){return this.data.series.byId[t]}}}),nt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Page",{attrs:{id:"books"}},[s("template",{slot:"header-left"},[s("router-link",{attrs:{to:"/"}},[t._v(t._s(t.appName))])],1),t._v(" "),s("template",{slot:"content"},[s("action-bar",{attrs:{hasBorder:0===t.sortedBooks.length}},[s("div",{staticClass:"action-bar-content"},[s("h2",[t._v(t._s(t.title))])]),t._v(" "),s("div",{staticClass:"action-bar-actions"},[s("round-link-button",{attrs:{to:"/add-book"}},[s("svgicon",{attrs:{name:"add",width:"20",height:"20"}})],1)],1)]),t._v(" "),t.sortedBooks.length>0?s("ui-list",t._l(t.sortedBooks,function(e){return s("book-item",{key:e.id,attrs:{book:e,onRemove:t.onRemove}})})):t._e(),t._v(" "),0===t.sortedBooks.length?s("content-message",[s("p",[t._v("You don't have any books yet.")]),t._v(" "),s("link-button",{attrs:{to:"/add-book"}},[t._v("Add One")])],1):t._e()],1)],2)},staticRenderFns:[]},at=s("VU/8")(ot,nt,!1,null,null,null).exports,rt={name:"AuthorItem",props:{author:{type:Object,default:{}},onRemove:{type:Function}},computed:{name:function(){var t=[];return this.author.lastName&&t.push(this.author.lastName),this.author.firstName&&t.push(this.author.firstName),t.join(", ")},url:function(){return"/books/author/"+this.author.id}},methods:{onRemoveClick:function(){this.onRemove(this.author.id)}},components:{ListItem:tt,RoundButton:j,RoundLinkButton:W}},ut={render:function(){var t=this.$createElement,e=this._self._c||t;return e("list-item",[e("template",{slot:"cell1"},[e("router-link",{attrs:{to:this.url}},[e("span",{staticClass:"title-text"},[this._v(this._s(this.name))])])],1),this._v(" "),e("template",{slot:"actions"},[e("round-link-button",{attrs:{to:this.author.editUrl}},[e("svgicon",{attrs:{name:"edit",width:"18",height:"18"}})],1),this._v(" "),e("round-button",{attrs:{onClick:this.onRemoveClick}},[e("svgicon",{attrs:{name:"delete",width:"18",height:"18"}})],1)],1)],2)},staticRenderFns:[]},lt={name:"Authors",data:function(){return _.state},components:{Page:$,ActionBar:F,ContentMessage:V,UiList:Z,LinkButton:T,RoundLinkButton:W,AuthorItem:s("VU/8")(rt,ut,!1,null,null,null).exports},mixins:[N],computed:{sortedAuthors:function(){var t=this,e=[];return this.data.authors.allIds.forEach(function(s){var i=t.data.authors.byId[s],o=A()({},i,{url:"/author/"+s,editUrl:"/edit-author/"+s});e.push(o)}),e}},methods:{onRemove:function(t){_.removeAuthor(t)}}},dt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Page",{attrs:{id:"authors"}},[s("template",{slot:"header-left"},[s("router-link",{attrs:{to:"/"}},[t._v(t._s(t.appName))]),t._v(" "),s("h2",[t._v("/ Authors")])],1),t._v(" "),s("template",{slot:"content"},[s("action-bar",{attrs:{hasBorder:0===t.sortedAuthors.length}},[s("div",{staticClass:"action-bar-content"},[s("h2",[t._v("Authors")])]),t._v(" "),s("div",{staticClass:"action-bar-actions"},[s("round-link-button",{attrs:{to:"/add-author"}},[s("svgicon",{attrs:{name:"add",width:"20",height:"20"}})],1)],1)]),t._v(" "),t.sortedAuthors.length>0?s("ui-list",t._l(t.sortedAuthors,function(e){return s("author-item",{key:e.id,attrs:{author:e,onRemove:t.onRemove}})})):t._e(),t._v(" "),0===t.sortedAuthors.length?s("content-message",[s("p",[t._v("You don't have any authors yet.")]),t._v(" "),s("link-button",{attrs:{to:"/add-author"}},[t._v("Add One")])],1):t._e()],1)],2)},staticRenderFns:[]},ht=s("VU/8")(lt,dt,!1,null,null,null).exports,ct={name:"SeriesItem",props:{series:{type:Object,default:{}},onRemove:{type:Function}},components:{ListItem:tt,RoundButton:j,RoundLinkButton:W},computed:{url:function(){return"/books/series/"+this.series.id}},methods:{onRemoveClick:function(){this.onRemove(this.series.id)}}},mt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("list-item",[e("template",{slot:"cell1"},[e("router-link",{attrs:{to:this.url}},[e("span",{staticClass:"title-text"},[this._v(this._s(this.series.title))])])],1),this._v(" "),e("template",{slot:"actions"},[e("round-link-button",{attrs:{to:this.series.editUrl}},[e("svgicon",{attrs:{name:"edit",width:"18",height:"18"}})],1),this._v(" "),e("round-button",{attrs:{onClick:this.onRemoveClick}},[e("svgicon",{attrs:{name:"delete",width:"18",height:"18"}})],1)],1)],2)},staticRenderFns:[]},ft={name:"Series",data:function(){return _.state},components:{Page:$,HeaderBar:R,ActionBar:F,ContentMessage:V,UiList:Z,LinkButton:T,RoundLinkButton:W,SeriesItem:s("VU/8")(ct,mt,!1,null,null,null).exports},mixins:[N],computed:{sortedSeries:function(){var t=this,e=[];return this.data.series.allIds.forEach(function(s){var i=t.data.series.byId[s],o=A()({},i,{url:"/series/"+s,editUrl:"/edit-series/"+s});e.push(o)}),e}},methods:{onRemove:function(t){_.removeSeries(t)}}},vt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Page",{attrs:{id:"series"}},[s("template",{slot:"header-left"},[s("router-link",{attrs:{to:"/"}},[t._v(t._s(t.appName))]),t._v(" "),s("h2",[t._v("/ Series")])],1),t._v(" "),s("template",{slot:"content"},[s("action-bar",{attrs:{hasBorder:0===t.sortedSeries.length}},[s("div",{staticClass:"action-bar-content"},[s("h2",[t._v("Series")])]),t._v(" "),s("div",{staticClass:"action-bar-actions"},[s("round-link-button",{attrs:{to:"/add-series"}},[s("svgicon",{attrs:{name:"add",width:"20",height:"20"}})],1)],1)]),t._v(" "),t.sortedSeries.length>0?s("ui-list",t._l(t.sortedSeries,function(e){return s("series-item",{key:e.id,attrs:{series:e,onRemove:t.onRemove}})})):t._e(),t._v(" "),0===t.sortedSeries.length?s("content-message",[s("p",[t._v("You don't have any series yet.")]),t._v(" "),s("link-button",{attrs:{to:"/add-series"}},[t._v("Add One")])],1):t._e()],1)],2)},staticRenderFns:[]},pt=s("VU/8")(ft,vt,!1,null,null,null).exports,bt=s("Uya5"),kt=s.n(bt),_t={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-field"},[e("label",{staticClass:"label",attrs:{for:this.name}},[this._v(this._s(this.label))]),this._v(" "),e("input",{staticClass:"input",attrs:{id:this.name,type:"text",name:this.name},domProps:{value:this.value}})])},staticRenderFns:[]},gt=s("VU/8")({name:"TextField",props:["label","name","value"]},_t,!1,function(t){s("/41p")},"data-v-4721ea3f",null).exports,yt=s("RUzx"),It={name:"MultiSelect",components:{Multiselect:s.n(yt).a},data:function(){return{value:this.data.values,options:this.data.options}},props:{data:{type:Object,required:!0},onChange:{type:Function,required:!0},multiple:{type:Boolean,default:!1},placeholder:String},methods:{label:function(t){return t.label},updateSelected:function(t){this.onChange(t)}}},Bt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"multi-select-container"},[e("multiselect",{attrs:{value:this.value,options:this.options,customLabel:this.label,hideSelected:!0,placeholder:this.placeholder,"track-by":"id",multiple:this.multiple},on:{input:this.updateSelected}})],1)},staticRenderFns:[]},Ct=s("VU/8")(It,Bt,!1,function(t){s("NvVH"),s("+UOv"),s("gIZd")},"data-v-518890f1",null).exports,St={name:"TagChip",props:{text:{type:String}}},At={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tag-chip"},[e("p",[this._v(this._s(this.text))])])},staticRenderFns:[]},Nt={name:"EditBook",components:{Page:$,TextField:gt,UiButton:O,MultiSelect:Ct,RoundLinkButton:W,TagChip:s("VU/8")(St,At,!1,function(t){s("XwHc")},"data-v-4e06a7a6",null).exports},mixins:[N],data:function(){return _.state},mounted:function(){document.querySelectorAll(".anim-section").forEach(function(t,e){t.style.transitionDelay=30*e+"ms"});document.querySelector("#edit-book").classList.add("show")},computed:{bookData:function(){return this.$route.params.id?this.data.books.byId[this.$route.params.id]:{}},authorsData:function(){var t=this,e=[],s=[],i=[];return void 0!==this.bookData&&this.data.authorBook.forEach(function(e){t.bookData.id===e.bookId&&s.push(e.authorId)}),this.data.authors.allIds.forEach(function(o){var n=t.data.authors.byId[o],a=A()({},n,{label:n.lastName+", "+n.firstName});e.push(a),s.includes(o)&&i.push(a)}),this.bookAuthors=i,{values:i,options:e}},seriesData:function(){var t=this,e=[],s=null;return this.data.series.allIds.forEach(function(i){var o=t.data.series.byId[i],n=A()({},o,{label:o.title});e.push(n),i===t.bookData.seriesId&&(s=n)}),this.bookSeries=s,{values:s,options:e}}},methods:{onAuthorsChange:function(t){this.bookAuthors=t},onSeriesChange:function(t){this.bookSeries=t},onCancel:function(t){t.preventDefault(),this.$router.go(-1)},onSubmit:function(t){var e=kt()(t.target,{hash:!0});e.id=this.$route.params.id,e.authors=this.bookAuthors.map(function(t){return t.id}),e.seriesId=this.bookSeries?this.bookSeries.id:void 0,_.addBook(e),this.$router.go(-1)}}},xt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Page",{attrs:{id:"edit-book"}},[s("template",{slot:"header-left"},[s("router-link",{attrs:{to:"/"}},[t._v(t._s(t.appName))]),t._v(" "),s("h2",[t._v("/ Add Book")])],1),t._v(" "),s("template",{slot:"content"},[s("form",{on:{submit:function(e){e.preventDefault(),t.onSubmit(e)}}},[s("div",{staticClass:"anim-section"},[s("text-field",{attrs:{label:"Title",name:"title",value:t.bookData.title}})],1),t._v(" "),s("div",{staticClass:"anim-section authors"},[s("multi-select",{attrs:{data:t.authorsData,placeholder:"Select Authors...",onChange:t.onAuthorsChange,multiple:!0}}),t._v(" "),s("round-link-button",{staticClass:"add-btn",attrs:{to:"/add-author"}},[s("svgicon",{attrs:{name:"add",width:"20",height:"20"}})],1)],1),t._v(" "),s("div",{staticClass:"anim-section series"},[s("multi-select",{attrs:{data:t.seriesData,placeholder:"Select Series...",onChange:t.onSeriesChange}}),t._v(" "),s("round-link-button",{staticClass:"add-btn",attrs:{to:"/add-series"}},[s("svgicon",{attrs:{name:"add",width:"20",height:"20"}})],1)],1),t._v(" "),s("div",{staticClass:"anim-section"},[s("text-field",{attrs:{label:"Book Number",name:"bookNumber",value:t.bookData.bookNumber}})],1),t._v(" "),s("div",{staticClass:"form-buttons anim-section"},[s("ui-button",{attrs:{height:32,onClick:t.onCancel}},[t._v("Cancel")]),t._v(" "),s("ui-button",{attrs:{isPrimary:!0,isSubmit:!0,height:32}},[t._v("Save Book")])],1)])])],2)},staticRenderFns:[]},Rt=s("VU/8")(Nt,xt,!1,function(t){s("7Ok9")},"data-v-90b03454",null).exports,Ut={name:"EditAuthor",components:{Page:$,HeaderBar:R,TextField:gt,UiButton:O},mixins:[N],data:function(){return _.state},mounted:function(){document.querySelectorAll(".anim-section").forEach(function(t,e){t.style.transitionDelay=30*e+"ms"});document.querySelector("#edit-author").classList.add("show")},computed:{title:function(){return this.$route.params.id?"Edit Author":"Add Author"},submitLabel:function(){return this.$route.params.id?"Save Changes":"Create Author"},authorData:function(){return this.$route.params.id?this.data.authors.byId[this.$route.params.id]:{}}},methods:{onCancel:function(t){t.preventDefault(),this.$router.go(-1)},onSubmit:function(t){var e=kt()(t.target,{hash:!0});e.id=this.$route.params.id,_.addAuthor(e),this.$router.go(-1)}}},Et={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Page",{attrs:{id:"edit-author"}},[s("template",{slot:"header-left"},[s("router-link",{attrs:{to:"/"}},[t._v(t._s(t.appName))]),t._v(" "),s("h2",[t._v("/ "+t._s(t.title))])],1),t._v(" "),s("template",{slot:"content"},[s("form",{on:{submit:function(e){e.preventDefault(),t.onSubmit(e)}}},[s("div",{staticClass:"anim-section"},[s("text-field",{attrs:{label:"First Name",name:"firstName",value:t.authorData.firstName}})],1),t._v(" "),s("div",{staticClass:"anim-section"},[s("text-field",{attrs:{label:"Last Name",name:"lastName",value:t.authorData.lastName}})],1),t._v(" "),s("div",{staticClass:"form-buttons anim-section"},[s("ui-button",{attrs:{height:32,onClick:t.onCancel}},[t._v("Cancel")]),t._v(" "),s("ui-button",{attrs:{isPrimary:!0,height:32}},[t._v(t._s(t.submitLabel))])],1)])])],2)},staticRenderFns:[]},$t=s("VU/8")(Ut,Et,!1,null,null,null).exports,Lt={name:"EditSeries",components:{Page:$,HeaderBar:R,TextField:gt,UiButton:O},mixins:[N],data:function(){return _.state},mounted:function(){document.querySelectorAll(".anim-section").forEach(function(t,e){t.style.transitionDelay=30*e+"ms"});document.querySelector("#edit-series").classList.add("show")},computed:{title:function(){return this.$route.params.id?"Edit Series":"Add Series"},submitLabel:function(){return this.$route.params.id?"Save Changes":"Create Series"},seriesData:function(){return this.$route.params.id?this.data.series.byId[this.$route.params.id]:{}}},methods:{onCancel:function(t){t.preventDefault(),this.$router.go(-1)},onSubmit:function(t){var e=kt()(t.target,{hash:!0});e.id=this.$route.params.id,_.addSeries(e),this.$router.go(-1)}}},wt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Page",{attrs:{id:"edit-series"}},[s("template",{slot:"header-left"},[s("router-link",{attrs:{to:"/"}},[t._v(t._s(t.appName))]),t._v(" "),s("h2",[t._v("/ "+t._s(t.title))])],1),t._v(" "),s("template",{slot:"content"},[s("form",{on:{submit:function(e){e.preventDefault(),t.onSubmit(e)}}},[s("div",{staticClass:"anim-section"},[s("text-field",{attrs:{label:"Title",name:"title",value:t.seriesData.title}})],1),t._v(" "),s("div",{staticClass:"form-buttons anim-section"},[s("ui-button",{attrs:{height:32,onClick:t.onCancel}},[t._v("Cancel")]),t._v(" "),s("ui-button",{attrs:{isPrimary:!0,isSubmit:!0,height:32}},[t._v(t._s(t.submitLabel))])],1)])])],2)},staticRenderFns:[]},Ft=s("VU/8")(Lt,wt,!1,null,null,null).exports;i.a.use(C.a);var Pt=new C.a({mode:"hash",base:"/demo/",routes:[{path:"/",name:"Books",component:at},{path:"/books/author/:name",name:"AuthorBooks",component:at},{path:"/books/series/:title",name:"SeriesBooks",component:at},{path:"/add-book",name:"AddBook",component:Rt},{path:"/edit-book/:id",name:"EditBook",component:Rt},{path:"/authors",name:"Authors",component:ht},{path:"/add-author",name:"AddAuthor",component:$t},{path:"/edit-author/:id",name:"EditAuthor",component:$t},{path:"/series",name:"Series",component:pt},{path:"/add-series",name:"AddSeries",component:Ft},{path:"/edit-series/:id",name:"EditSeries",component:Ft}]}),Vt=s("0QuU"),Dt=s.n(Vt);i.a.use(Dt.a),i.a.use(o.a,{basePath:"/static/svg"}),i.a.config.productionTip=!1,new i.a({el:"#app",router:Pt,template:"<App/>",components:{App:B}})},NvVH:function(t,e){},UaEI:function(t,e){},"VO7+":function(t,e,s){s("0QuU").register({add:{width:24,height:24,viewBox:"0 0 24 24",data:'<path pid="0" d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>'}})},XwHc:function(t,e){},gIZd:function(t,e){},hR0G:function(t,e){},jtPG:function(t,e){},msQL:function(t,e,s){s("0QuU").register({delete:{width:24,height:24,viewBox:"0 0 24 24",data:'<path pid="0" d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>'}})},qkaO:function(t,e){},tiyi:function(t,e){},vPIs:function(t,e){},yLki:function(t,e,s){s("0QuU").register({edit:{width:24,height:24,viewBox:"0 0 24 24",data:'<path pid="0" d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>'}})},yd7s:function(t,e,s){s("0QuU").register({logo:{width:16,height:16,viewBox:"0 0 143 128",data:'<path pid="0" d="M56.615 0L0 24.615v88.616L56.615 128V0zm-7.439 12.554L4.609 30.372v75.171l44.567 10.395V12.554zM90.938 4.646l-21.23 5.446 12.83 4.809.053 98.757-13.376 5.234 21.723 4.462V4.646zM117.959 10l-19.316 4.955 11.673 4.375.049 89.849-12.17 4.762L117.959 118V10zM142.227 14l-17.885 4.588 10.809 4.051.044 83.193-11.268 4.41 18.3 3.758V14z"/>'}})}},["NHnr"]);
//# sourceMappingURL=app.2547e291df3cf8c14f7b.js.map